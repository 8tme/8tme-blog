import{j as e}from"./jsx-runtime.CYXfivyR.js";import{p as h}from"./scrollInfo._nnrpahV.js";import{c as i}from"./clsx.B-dksMZM.js";import{r as p}from"./index.Wp2u197Z.js";import{u as x}from"./react.DptU6QxA.js";function f(){const[o,r]=p.useState(""),t=x(h);return p.useEffect(()=>{const s=document.querySelector("#markdown-wrapper");if(!s)return;const n=Array.from(s.querySelectorAll("h1,h2,h3,h4,h5,h6"));for(let c=0;c<n.length;c++){const l=n[c],a=n[c+1],u=l.getBoundingClientRect().top,m=a?a.getBoundingClientRect().top:1e4;if(u<=80&&m>80){r(l.getAttribute("id")||"");break}}},[t]),o}function A({headings:o}){const r=f();return e.jsx("ul",{className:"overflow-y-auto space-y-2 group",style:{maxHeight:"min(380px, calc(100vh - 150px))",scrollbarWidth:"none"},children:o.map(t=>e.jsx(g,{slug:t.slug,text:t.text,depth:t.depth,isActive:t.slug===r},t.slug))})}function g({slug:o,text:r,depth:t,isActive:s}){return e.jsxs("li",{className:"text-sm relative",children:[e.jsx("span",{className:i("absolute left-0 top-2 h-1 rounded-full",s?"bg-accent":"bg-zinc-200"),style:{width:`${4*(7-t)}px`}}),e.jsx("a",{className:i("inline-block pl-8 opacity-0",s?"opacity-100":"group-hover:opacity-100"),href:`#${o}`,children:e.jsx("span",{children:r.replace(/#$/,"")})})]})}export{A as PostToc};
